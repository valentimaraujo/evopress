---
description: Stack Tecnol√≥gico e Bibliotecas Permitidas
globs: ["package.json", "**/*.ts", "**/*.tsx"]
---

# üõ†Ô∏è TECH STACK & UTILITIES

Este arquivo define as tecnologias permitidas e utilit√°rios preferidos para evitar reinven√ß√£o da roda.

## STACK PERMITIDO

### Depend√™ncias Core (N√ÉO ADICIONE OUTRAS SEM APROVA√á√ÉO)
- **Framework:** Next.js 16 (App Router)
- **UI:** React 19
- **Linguagem:** TypeScript 5
- **Estiliza√ß√£o:** Tailwind CSS 4
- **Backend/Auth:** Supabase (`@supabase/supabase-js`, `@supabase/ssr`) - Apenas para Auth.
- **Banco de Dados:** Postgres (via **Drizzle ORM**) - Database Agnostic.
- **Valida√ß√£o:** Yup (ou Zod, se preferir consist√™ncia com projetos novos) - *Definido: Yup conforme regras antigas, mas Zod √© mais comum em Next moderno. Manteremos Yup por consist√™ncia com EvoTools se desejado, ou migrar para Zod.* -> **Decis√£o: Zod** (Moderno, infer√™ncia de tipos melhor).
- **Datas:** `date-fns` (NUNCA use moment.js)
- **√çcones:** Lucide React (padr√£o moderno)

### Bibliotecas Proibidas ‚ùå
- `lodash` (Use nativo ou utils espec√≠ficos)
- `moment` / `moment-timezone` (Use `date-fns`)
- `axios` (Use `fetch` nativo)
- `express` (Next.js handles routing)

## UTILIT√ÅRIOS PREFERIDOS

Antes de criar nova fun√ß√£o, verifique `src/core/utils/`:

1. **API Helpers:** `formatJSONResponse`
2. **Date Utils:** Use `date-fns` diretamente ou helpers em `src/core/utils/date.ts`
3. **Formatters:** `src/core/utils/formatters.ts` (Moeda, Telefone, CPF/CNPJ)

## REGRAS ANTI-ALUCINA√á√ÉO

1. **N√ÉO importe** bibliotecas que n√£o est√£o no `package.json`.
2. **N√ÉO crie** fun√ß√µes utilit√°rias que j√° existem no Core.
3. **SEMPRE** use `fetch` com cache do Next.js ao inv√©s de bibliotecas externas.
